(function(t){function e(e){for(var a,s,o=e[0],c=e[1],d=e[2],l=0,p=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),t._m(0)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"container"},[n("div",{staticClass:"footer"},[n("div",{staticClass:"copirate"},[t._v(" Scandiweb Test assignment ")])])])])}],s={},o=s,c=n("2877"),d=Object(c["a"])(o,i,r,!1,null,null,null),u=d.exports,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[t._m(0),n("div",{staticClass:"header-element"},[n("div",{staticClass:"header-element__buttons"},[n("router-link",{attrs:{to:{name:"add-product"}}},[n("button",{staticClass:"button-control button-add"},[t._v("Add")])]),n("button",{staticClass:"button-control button-delete",attrs:{id:"delete-product-btn"},on:{click:t.deleteProducts}},[t._v(" Mass Delete ")])],1)])])])]),n("main",[n("div",{staticClass:"container"},[n("div",{staticClass:"wrapper products"},t._l(t.productsData,(function(e){return n("article",{key:e._id,staticClass:"product",attrs:{product:e}},[n("div",{staticClass:"product-inner"},[n("div",{staticClass:"product__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"delete-checkbox",attrs:{type:"checkbox",name:"check"},domProps:{value:e._id,checked:Array.isArray(t.checked)?t._i(t.checked,e._id)>-1:t.checked},on:{change:function(n){var a=t.checked,i=n.target,r=!!i.checked;if(Array.isArray(a)){var s=e._id,o=t._i(a,s);i.checked?o<0&&(t.checked=a.concat([s])):o>-1&&(t.checked=a.slice(0,o).concat(a.slice(o+1)))}else t.checked=r}}})]),n("div",{staticClass:"product__sku"},[t._v(t._s(e.sku))]),n("h2",{staticClass:"product__name"},[t._v(t._s(e.name))]),n("div",{staticClass:"product__price"},[t._v(t._s(e.price)+" $")]),e.size?n("div",{staticClass:"product__attributes"},[t._v(" Size: "+t._s(e.size)+" MB ")]):e.weight?n("div",{staticClass:"product__attributes"},[t._v(" Weight: "+t._s(e.weight)+" KG ")]):e.height?n("div",{staticClass:"product__attributes"},[t._v(" Dimension: "+t._s(e.height)+"X"+t._s(e.width)+"X"+t._s(e.length)+" ")]):t._e()])])})),0)])])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-element"},[n("h1",[t._v("Product List")])])}],m=(n("d3b7"),n("e9c4"),n("159b"),n("d9e2"),n("d81d"),[{id:1,productType:"DVD"},{id:2,productType:"Book"},{id:3,productType:"Furniture"}]),v={data:function(){return{productsData:null,switcher:m,checked:[]}},methods:{graphqlQuery:function(t){var e="fnAEc4xEYrAAQ2vuZlGkYlKpNbIVUYpzPSEdYAXt";return fetch("https://graphql.us.fauna.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({query:t})}).then((function(t){return t.json()})).then((function(t){if(t.errors)throw t.errors.forEach((function(t){return console.error("GraphQL error: ".concat(t.message))})),new Error("GraphQL error");return t.data}))},loadProducts:function(){var t=this;return this.graphqlQuery("\n    query {\n      allProductItems {\n        data {\n          _id\n        sku\n        name\n        price\n        productType\n        size\n        weight\n        height\n        width\n        length\n        }\n      }\n    }\n  ").then((function(e){return t.productsData=e.allProductItems.data}))},deleteGraph:function(t){this.graphqlQuery('\n    mutation {\n      deleteProductItem(id: "'.concat(t,'") {\n        _id\n      }\n    }\n  '))},deleteProducts:function(){var t=this;this.checked.map((function(e){return t.deleteGraph(e)})),window.location.reload()}},created:function(){this.loadProducts()}},_=v,f=Object(c["a"])(_,p,h,!1,null,null,null),g=f.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{id:"product_form"},on:{submit:function(e){return e.preventDefault(),t.createProducts.apply(null,arguments)}}},[n("header",[n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[t._m(0),n("div",{staticClass:"header-element"},[n("div",{staticClass:"header-element__buttons"},[n("button",{staticClass:"button-control button-save",attrs:{type:"submit"}},[t._v("Save")]),n("router-link",{attrs:{to:{name:"main"}}},[n("button",{staticClass:"button-control button-cancel"},[t._v("Cancel")])])],1)])])])]),n("main",[n("div",{staticClass:"container"},[n("div",{staticClass:"add-product"},[n("div",{staticClass:"add-item"},[n("div",{staticClass:"add-item__caption"},[t._v("SKU")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sku,expression:"sku"}],attrs:{type:"text",name:"sku",id:"sku",required:""},domProps:{value:t.sku},on:{input:function(e){e.target.composing||(t.sku=e.target.value)}}})])]),n("div",{staticClass:"add-item"},[n("div",{staticClass:"add-item__caption"},[t._v("Name")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),n("div",{staticClass:"add-item"},[n("div",{staticClass:"add-item__caption"},[t._v("Price ($)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",name:"price",id:"price",placeholder:"Only numbers",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])]),n("div",{staticClass:"add-item"},[n("div",{staticClass:"add-item__caption"},[t._v("Type Switcher")]),n("div",{staticClass:"add-item__input"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.productType,expression:"productType"}],attrs:{id:"productType",required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:""}},[t._v("Choose")]),t._l(t.switcher,(function(e){return n("option",{key:e.id,domProps:{value:e.productType}},[t._v(" "+t._s(e.productType)+" ")])}))],2)])]),"DVD"===t.productType?n("div",{staticClass:"add-item"},[n("span",[t._v("Please, provide size")]),n("div",{staticClass:"add-item__caption"},[t._v("Size (MB)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"number",name:"size",id:"size",required:"",placeholder:"Only numbers"},domProps:{value:t.size},on:{input:function(e){e.target.composing||(t.size=e.target.value)}}})])]):t._e(),"Book"===t.productType?n("div",{staticClass:"add-item"},[n("span",[t._v("Please, provide weight")]),n("div",{staticClass:"add-item__caption"},[t._v("Weight (Kg)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],attrs:{type:"number",name:"weight",id:"weight",required:"",placeholder:"Only numbers",step:"0.1",min:"0"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}})])]):t._e(),"Furniture"===t.productType?n("div",{staticClass:"add-item"},[n("span",[t._v("Please, provide dimensions")]),n("div",{staticClass:"add-item__caption"},[t._v("Height (CM)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.height,expression:"height"}],attrs:{type:"number",name:"height",id:"height",required:"",placeholder:"Only numbers"},domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=e.target.value)}}})]),n("div",{staticClass:"add-item__caption"},[t._v("Width (CM)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.width,expression:"width"}],attrs:{type:"number",name:"width",id:"width",required:"",placeholder:"Only numbers"},domProps:{value:t.width},on:{input:function(e){e.target.composing||(t.width=e.target.value)}}})]),n("div",{staticClass:"add-item__caption"},[t._v("Length (CM)")]),n("div",{staticClass:"add-item__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.length,expression:"length"}],attrs:{type:"number",name:"length",id:"length",required:"",placeholder:"Only numbers"},domProps:{value:t.length},on:{input:function(e){e.target.composing||(t.length=e.target.value)}}})])]):t._e()])])])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-element"},[n("h1",[t._v("Add Product")])])}],C=(n("99af"),n("b0c0"),{data:function(){return{switcher:m,sku:"",name:"",price:"",productType:"",size:null,weight:"",height:null,width:null,length:null}},methods:{graphqlQuery:function(t){var e="fnAEc4xEYrAAQ2vuZlGkYlKpNbIVUYpzPSEdYAXt";return fetch("https://graphql.us.fauna.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({query:t})}).then((function(t){return t.json()})).then((function(t){if(t.errors)throw t.errors.forEach((function(t){return console.error("GraphQL error: ".concat(t.message))})),new Error("GraphQL error");return t.data}))},createProducts:function(){var t=this;this.graphqlQuery('\n    mutation {\n      createProductItem(data: {\n      sku: "'.concat(this.sku,'"\n      name: "').concat(this.name,'"\n      price: ').concat(this.price,'\n      productType: "').concat(this.productType,'"\n      size: ').concat(this.size,'\n      weight: "').concat(this.weight,'"\n      height: ').concat(this.height,"\n      width: ").concat(this.width,"\n      length: ").concat(this.length,"\n\n      }) {\n        _id\n        sku\n        name\n        price\n        productType\n        size\n        weight\n        height\n        width\n        length\n      }\n    }\n  ")).then((function(){t.$router.push({path:"/"})}))}}}),w=C,k=Object(c["a"])(w,y,b,!1,null,null,null),P=k.exports;a["a"].use(l["a"]);var x=[{path:"/",name:"main",component:g},{path:"/add",name:"add-product",component:P}],T=new l["a"]({routes:x}),O=T,q=n("2f62");a["a"].use(q["a"]);var z=new q["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:O,store:z,render:function(t){return t(u)}}).$mount("#app")}});
//# sourceMappingURL=app.f9e17474.js.map